
/*
 * build.gradle
 *
 * Copyright (c) 2015. Joe Nellis
 * Distributed under MIT License. See accompanying file License.txt or at
 * http://opensource.org/licenses/MIT
 */

plugins {
  id "com.jfrog.bintray" version "1.0"
}
apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'groovy'
apply plugin: 'maven-publish'

compileJava.options.compilerArgs = ["-Xlint:unchecked"]
version "1.1"

repositories {
    mavenCentral()
}

dependencies {
    testCompile "org.spockframework:spock-core:0.7-groovy-2.0"
}

task sourceJar(type: Jar) {
  from sourceSets.main.allSource
}


publishing {
  publications {
    mavenJava(MavenPublication) {
      groupId 'net.jnellis'
      artifactId 'binpack'
      version version
      from components.java

      artifact sourceJar {
        classifier "sources"
      }

      pom.withXml {
        asNode().appendNode('description', 'A linear bin packing library.')
      }
    }
  }
}

